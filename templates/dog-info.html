{% extends 'base.html' %}

{% block head %}{% endblock %}

{% block content %}

<h2><a href='/breeders/{{ breeder.breeder_id}}'>{{ breeder.name }}</a></h2>
<div>Breeds: <a href='/breeds/{{ breed.breed_id }}'>{{ breed.name }}</a>
</div>

<div>{{ breeder.breeder_spots|length }} spots</div>

<div>
    {% if user in users_spots %}
        <h5>You've spotted this breeder!</h5>
    {% else %}
        <h5>spot this breeder</h5>
        <form action="/breeder-spot", method="POST">
            <button type="submit">spot</button>
            <input type="hidden" name="breeder" value=" {{ breeder.breeder_id }}">
        </form>
    {% endif %}
</div>


<h4>{{ dog.name }}</h4>

<ul class="nav nav-tabs">
    <li class="active"><a data-toggle="tab" href="#info">Info</a></li>
    <li><a data-toggle="tab" href="#photos">Photos</a><li>
    <li><a data-toggle="tab" href="#litters">Litters</a><li>
    <li><a data-toggle="tab" href="#awards">Awards</a><li>
</ul>

<div class="tab-content">
    <div id="info" class="tab-pane fade in active">
        <div><a href='/breeds/{{ breed.breed_id }}'>{{ breed.name }}</a>
            {% if dog.gender_id in ['m'] %}
            Sire
            {% else %}
            Dam
            {% endif %}
        </div>

        <div>Born: {{ dog.date_born.strftime('%m/%d/%y') }}</div>

        <div>{{ dog.description }}</div>
    </div>

    <div id="photos" class="tab-pane fade">
        <div>Photos:<br>
        {% for photo in photos %}
        <img src="{{ photo.photo }}"><br>
        {{ photo.caption }}<br>
        {% endfor %}
        </div>
    </div>

    <div id="awards" class="tab-pane fade">
        <div>Awards:
            <ul> {% for award in awards %}
                <li>{{ award.name }} - {{ award.date.strftime('%m/%d/%y') }}</li>
                <ul>
                    <li>{{ award.description }}</li>
                </ul>
                {% endfor %}
            </ul>
        </div>
    </div>

    <div id="litters" class="tab-pane fade">
        <div>Litters:
            <ul>
            {% for litter in litters %}
                <li>
                    <a href='/breeders/{{ breeder.breeder_id }}/litters/{{ litter.litter_id }}'>Litter #{{ loop.revindex }}</a><br>
                    Born: {{ litter.date_born.strftime('%m/%d/%y') }}<br>
                    Available: {{ litter.date_available.strftime('%m/%d/%y') }}<br>
                    # Puppies: {{ litter.num_pups }}<br>
                    {{ litter.description}}<br>
                </li>
            {% endfor %}
            </ul>
        </div>
    </div>

</div>

{% endblock %}